(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(28),a(2)),s=a.n(o),i=a(6),m=a(3),u=a(7),p=a.n(u),d=a(10),f=a(9);function v(e){var t=e.setIsLogin,a=Object(n.useState)({name:"",email:"",password:""}),c=Object(m.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),v=Object(m.a)(u,2),b=v[0],E=v[1],h=function(e){var t=e.target,a=t.name,n=t.value;o(Object(f.a)(Object(f.a)({},l),{},Object(d.a)({},a,n))),E("")},g=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.a.post("/users/register",{username:l.name,email:l.email,password:l.password});case 4:a=e.sent,o({name:"",email:"",password:""}),E(a.data.msg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response.data.msg&&E(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,p.a.post("/users/login",{email:l.email,password:l.password});case 4:n=e.sent,o({name:"",email:"",password:""}),localStorage.setItem("tokenStore",n.data.token),t(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.msg&&E(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),x=Object(n.useState)(!1),N=Object(m.a)(x,2),O=N[0],j=N[1],y={visibility:O?"visible":"hidden",opacity:O?1:0},k={visibility:O?"hidden":"visible",opacity:O?0:1};return r.a.createElement("section",{className:"login-page"},r.a.createElement("h1",{className:"text-center my-4 heading"},"Welcome to INotes. Save your Notes On the Cloud"),r.a.createElement("div",{className:"login my-4",style:k},r.a.createElement("form",{onSubmit:w},r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"form-label"},"Email address"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Email",required:!0,value:l.email,onChange:h}),r.a.createElement("div",{id:"emailHelp",className:"form-text"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"exampleInputPassword1",className:"form-label"},"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",required:!0,value:l.password,autoComplete:"true",onChange:h})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("p",{className:"form-text"},"You don't have an account?",r.a.createElement("span",{onClick:function(){return j(!0)}}," Register Here!")),r.a.createElement("h3",null,b))),r.a.createElement("div",{className:"d-flex align-item-center"},r.a.createElement("div",{className:"register create-note",style:y},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{onSubmit:g},r.a.createElement("input",{type:"text",name:"name",id:"register-name",placeholder:"User Name",required:!0,value:l.name,onChange:h}),r.a.createElement("input",{type:"email",name:"email",id:"register-email",placeholder:"Email",required:!0,value:l.email,onChange:h}),r.a.createElement("input",{type:"password",name:"password",id:"register-password",placeholder:"Password",required:!0,value:l.password,autoComplete:"true",onChange:h}),r.a.createElement("button",{type:"submit"},"Register"),r.a.createElement("p",null,"You have an account?",r.a.createElement("span",{onClick:function(){return j(!1)}}," Login Now")),r.a.createElement("h3",null,b)))))}var b=a(8);function E(e){var t=e.setIsLogin;return r.a.createElement("header",{className:"headnav"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement(b.b,{to:"/"},"iNotes"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/create"},"Create Note")),r.a.createElement("li",{onClick:function(){localStorage.clear(),t(!1)}},r.a.createElement(b.b,{to:"/"},"Logout"))))}var h=a(22);function g(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),u=o[0],d=o[1],f=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("api/notes",{headers:{Authorization:t}});case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=localStorage.getItem("tokenStore");d(e),e&&f(e)}),[]);var v=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u){e.next=5;break}return e.next=4,p.a.delete("api/notes/".concat(t),{headers:{Authorization:u}});case 4:f(u);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.href="/";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"note-wrapper"},a.map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement("h3",{className:"bld",title:e.title},e.title),r.a.createElement("div",{className:"text-wrapper bld"},r.a.createElement("p",null,e.content)),r.a.createElement("p",{className:"date"},Object(h.a)(e.createdAt)),r.a.createElement("div",{className:"card-footer bld"},e.name),r.a.createElement("button",{className:"close",onClick:function(){return v(e._id)}},"X"))})))}var w=a(1);function x(){var e=Object(n.useState)({title:"",content:"",date:""}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(w.f)(),o=function(e){var t=e.target,n=t.name,r=t.value;c(Object(f.a)(Object(f.a)({},a),{},Object(d.a)({},n,r)))},u=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(n=localStorage.getItem("tokenStore"))){e.next=9;break}return r=a.title,c=a.content,o=a.date,i={title:r,content:c,date:o},e.next=8,p.a.post("/api/notes",i,{headers:{Authorization:n}});case 8:return e.abrupt("return",l("/"));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),window.location.href="/";case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"create-note"},r.a.createElement("h2",null,"Create Note"),r.a.createElement("form",{onSubmit:u,autoComplete:"off"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",value:a.title,id:"title",name:"title",required:!0,onChange:o})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement("textarea",{type:"text",value:a.content,id:"content",name:"content",required:!0,rows:"10",onChange:o})),r.a.createElement("label",{htmlFor:"date"},"Date: ",a.date," "),r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"date",id:"date",name:"date",onChange:o})),r.a.createElement("button",{type:"submit"},"Save")))}function N(e){var t=e.match,a=Object(n.useState)({title:"",content:"",date:"",id:""}),c=Object(m.a)(a,2),l=c[0],o=c[1],u=Object(w.f)();Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("tokenStore"),!t.params.id){e.next=6;break}return e.next=4,p.a.get("/api/notes/".concat(t.params.id),{headers:{Authorization:a}});case 4:n=e.sent,o({title:n.data.title,content:n.data.content,date:new Date(n.data.date).toLocaleDateString(),id:n.data._id});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.params.id]);var v=function(e){var t=e.target,a=t.name,n=t.value;o(Object(f.a)(Object(f.a)({},l),{},Object(d.a)({},a,n)))},b=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(a=localStorage.getItem("tokenStore"))){e.next=9;break}return n=l.title,r=l.content,c=l.date,o=l.id,i={title:n,content:r,date:c},e.next=8,p.a.put("/api/notes/".concat(o),i,{headers:{Authorization:a}});case 8:return e.abrupt("return",u("/"));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),window.location.href="/";case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"create-note"},r.a.createElement("h2",null,"Edit Note"),r.a.createElement("form",{onSubmit:b,autoComplete:"off"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",value:l.title,id:"title",name:"title",required:!0,onChange:v})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement("textarea",{type:"text",value:l.content,id:"content",name:"content",required:!0,rows:"10",onChange:v})),r.a.createElement("label",{htmlFor:"date"},"Date: ",l.date," "),r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"date",id:"date",name:"date",onChange:v})),r.a.createElement("button",{type:"submit"},"Save")))}function O(e){var t=e.setIsLogin;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"notes-page"},r.a.createElement(E,{setIsLogin:t}),r.a.createElement("section",null,r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/",element:r.a.createElement(g,null),exact:!0}),r.a.createElement(w.a,{path:"/create",element:r.a.createElement(x,null),exact:!0}),r.a.createElement(w.a,{path:"/edit/:id",element:r.a.createElement(N,null),exact:!0})))))}var j=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("tokenStore"))){e.next=11;break}return e.next=4,p.a.get("/users/verify",{headers:{Authorization:t}});case 4:if(a=e.sent,console.log(a),c(a.data),!1!==a.data){e.next=9;break}return e.abrupt("return",localStorage.clear());case 9:e.next=12;break;case 11:c(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"App"},a?r.a.createElement(O,{setIsLogin:c}):r.a.createElement(v,{setIsLogin:c}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.0da03393.chunk.js.map