{"version":3,"sources":["components/Login.js","components/notes/Nav.js","components/notes/Home.js","components/notes/CreateNote.js","components/notes/EditNote.js","components/Notes.js","App.js","index.js"],"names":["Login","setIsLogin","useState","name","email","password","user","setUser","err","setErr","onChangeInput","e","target","value","registerSubmit","a","preventDefault","axios","post","username","res","data","msg","response","loginSubmit","localStorage","setItem","token","onLogin","setOnLogin","style","visibility","opacity","style1","className","onSubmit","htmlFor","type","id","aria-describedby","placeholder","required","onChange","autoComplete","onClick","Nav","to","clear","Home","notes","setNotes","setToken","getNotes","get","headers","Authorization","useEffect","getItem","deleteNote","delete","window","location","href","map","note","key","_id","title","content","format","createdAt","CreateNote","date","setNote","navigate","useNavigate","createNote","newNote","rows","EditNote","match","params","Date","toLocaleDateString","getNote","editNote","put","Notes","path","element","exact","App","isLogin","verified","console","log","checkLogin","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0da03393.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios';\n\nexport default function Login({ setIsLogin }) {\n    const [user, setUser] = useState({ name: '', email: '', password: '' })\n    const [err, setErr] = useState('')\n\n    const onChangeInput = e => {\n        const { name, value } = e.target;\n        setUser({ ...user, [name]: value })\n        setErr('')\n    }\n\n    const registerSubmit = async e => {\n        e.preventDefault()\n        try {\n            const res = await axios.post('/users/register', {\n                username: user.name,\n                email: user.email,\n                password: user.password\n            })\n            setUser({ name: '', email: '', password: '' })\n            setErr(res.data.msg)\n        } catch (err) {\n            err.response.data.msg && setErr(err.response.data.msg)\n        }\n    }\n\n    const loginSubmit = async e => {\n        e.preventDefault()\n        try {\n            const res = await axios.post('/users/login', {\n                email: user.email,\n                password: user.password\n            })\n            setUser({ name: '', email: '', password: '' })\n            localStorage.setItem('tokenStore', res.data.token)\n            setIsLogin(true)\n        } catch (err) {\n            err.response.data.msg && setErr(err.response.data.msg)\n        }\n    }\n\n    const [onLogin, setOnLogin] = useState(false)\n    const style = {\n        visibility: onLogin ? \"visible\" : \"hidden\",\n        opacity: onLogin ? 1 : 0\n    }\n    const style1 = {\n        visibility: onLogin ? \"hidden\" : \"visible\",\n        opacity: onLogin ? 0 : 1\n    }\n\n    return (\n        <section className=\"login-page\">\n            <h1 className=\"text-center my-4 heading\">Welcome to INotes. Save your Notes On the Cloud</h1>\n            <div className=\"login my-4\" style={style1}>\n                <form onSubmit={loginSubmit}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label\" >Email address</label>\n                        <input type=\"email\" name=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Email\" required value={user.email} onChange={onChangeInput} />\n                        <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n                        <input type=\"password\" name=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" required value={user.password} autoComplete=\"true\" onChange={onChangeInput} />\n                    </div>\n                    {/* <div className=\"mb-3 form-check\">\n                        <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" />\n                        <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Check me out</label>\n                    </div> */}\n                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n                    <p className=\"form-text\">You don't have an account?\n                        <span onClick={() => setOnLogin(true)}> Register Here!</span>\n                    </p>\n                    <h3>{err}</h3>\n                </form>\n            </div>\n            <div className=\"d-flex align-item-center\">\n            <div className=\"register create-note\" style={style}>\n                <h2>Register</h2>\n                <form onSubmit={registerSubmit}>\n                    <input type=\"text\" name=\"name\" id=\"register-name\"\n                        placeholder=\"User Name\" required value={user.name}\n                        onChange={onChangeInput} />\n\n                    <input type=\"email\" name=\"email\" id=\"register-email\"\n                        placeholder=\"Email\" required value={user.email}\n                        onChange={onChangeInput} />\n\n                    <input type=\"password\" name=\"password\" id=\"register-password\"\n                        placeholder=\"Password\" required value={user.password}\n                        autoComplete=\"true\" onChange={onChangeInput} />\n\n                    <button type=\"submit\">Register</button>\n                    <p>You have an account?\n                        <span onClick={() => setOnLogin(false)}> Login Now</span>\n                    </p>\n                    <h3>{err}</h3>\n                </form>\n            </div>\n            </div>\n        </section>\n    )\n}","import React from 'react'\n// import {Link} from 'react-router-dom'\nimport {Link} from 'react-router-dom'\nexport default function Nav({setIsLogin}) {\n\n    const logoutSubmit = () =>{\n        localStorage.clear()\n        setIsLogin(false)\n    }\n\n    return (\n        <header className = \"headnav\">\n            <div className=\"logo\">\n                <h1><Link to=\"/\">iNotes</Link></h1>\n            </div>\n            <ul>\n               <li><Link to=\"/\">Home</Link></li>\n                <li><Link to=\"/create\">Create Note</Link></li>\n                <li onClick={logoutSubmit}><Link to=\"/\">Logout</Link></li>\n  \n            </ul>\n        </header>\n\n    )\n}\n","import React, {useState, useEffect} from 'react'\nimport {format} from 'timeago.js'\nimport axios from 'axios'\n\nexport default function Home() {\n    const [notes, setNotes] = useState([])\n    const [token, setToken] = useState('')\n\n    const getNotes = async (token) =>{\n        const res = await axios.get('api/notes', {\n            headers:{Authorization: token}\n        })\n        setNotes(res.data)\n    }\n\n    useEffect(() =>{\n        const token = localStorage.getItem('tokenStore')\n        setToken(token)\n        if(token){\n            getNotes(token)\n        }\n    }, [])\n\n    const deleteNote = async (id) =>{\n        try {\n            if(token){\n                await axios.delete(`api/notes/${id}`, {\n                    headers: {Authorization: token}\n                })\n                getNotes(token)\n            }\n        } catch (error) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"note-wrapper\">\n            {\n                notes.map(note =>(\n                    <div className=\"card\" key={note._id}>\n                        <h3 className = \"bld\" title={note.title}>{note.title}</h3>\n                        <div className=\"text-wrapper bld\">\n                            <p>{note.content}</p>\n                        </div>\n                        <p className=\"date\">{format(note.createdAt)}</p>\n                        <div className=\"card-footer bld\">\n                            {note.name}\n                            {/* <Link to={`edit/${note._id}`} >Edit</Link> */}\n                        </div>\n                        <button className=\"close\" \n                        onClick={() => deleteNote(note._id)} >X</button>\n                    </div>\n                ))\n            }\n            \n        </div>\n    )\n}\n","import React, {useState} from 'react'\nimport axios from 'axios'\n// import {useHistory} from 'react-router-dom'\nimport {useNavigate} from 'react-router-dom'\nexport default function CreateNote() {\n    const [note, setNote] = useState({\n        title: '',\n        content: '',\n        date: ''\n    })\n    // const history = useHistory()\n    const navigate = useNavigate()\n    const onChangeInput = e => {\n        const {name, value} = e.target;\n        setNote({...note, [name]:value})\n    }\n\n\n    const createNote = async e => {\n        e.preventDefault()\n        try {\n            const token = localStorage.getItem('tokenStore')\n            if(token){\n                const {title, content, date} = note;\n                const newNote = {\n                    title, content, date\n                }\n\n                await axios.post('/api/notes', newNote, {\n                    headers: {Authorization: token}\n                })\n                \n                // return history.push('/')\n                return navigate('/')\n            }\n        } catch (err) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"create-note\">\n            <h2>Create Note</h2>\n            <form onSubmit={createNote} autoComplete=\"off\">\n                <div className=\"row\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input type=\"text\" value={note.title} id=\"title\"\n                    name=\"title\" required onChange={onChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"content\">Content</label>\n                    <textarea type=\"text\" value={note.content} id=\"content\"\n                    name=\"content\" required rows=\"10\" onChange={onChangeInput} />\n                </div>\n\n                <label htmlFor=\"date\">Date: {note.date} </label>\n                <div className=\"row\">\n                    <input type=\"date\" id=\"date\"\n                    name=\"date\" onChange={onChangeInput} />\n                </div>\n\n                <button type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\n// import {useHistory} from 'react-router-dom'\nimport {useNavigate} from 'react-router-dom'\n\nexport default function EditNote({match}) {\n    const [note, setNote] = useState({\n        title: '',\n        content: '',\n        date: '',\n        id: ''\n    })\n    // const history = useHistory()\n    const navigate = useNavigate()\n\n    useEffect(() =>{\n        const getNote = async () =>{\n            const token = localStorage.getItem('tokenStore')\n            if(match.params.id){\n                const res = await axios.get(`/api/notes/${match.params.id}`, {\n                    headers: {Authorization: token}\n                })\n                setNote({\n                    title: res.data.title,\n                    content: res.data.content,\n                    date: new Date(res.data.date).toLocaleDateString(),\n                    id: res.data._id\n                })\n            }\n        }\n        getNote()\n    },[match.params.id])\n\n    const onChangeInput = e => {\n        const {name, value} = e.target;\n        setNote({...note, [name]:value})\n    }\n\n\n    const editNote = async e => {\n        e.preventDefault()\n        try {\n            const token = localStorage.getItem('tokenStore')\n            if(token){\n                const {title, content, date, id} = note;\n                const newNote = {\n                    title, content, date\n                }\n\n                await axios.put(`/api/notes/${id}`, newNote, {\n                    headers: {Authorization: token}\n                })\n                \n                // return history.push('/')\n                return navigate('/')\n            }\n        } catch (err) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"create-note\">\n            <h2>Edit Note</h2>\n            <form onSubmit={editNote} autoComplete=\"off\">\n                <div className=\"row\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input type=\"text\" value={note.title} id=\"title\"\n                    name=\"title\" required onChange={onChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"content\">Content</label>\n                    <textarea type=\"text\" value={note.content} id=\"content\"\n                    name=\"content\" required rows=\"10\" onChange={onChangeInput} />\n                </div>\n\n                <label htmlFor=\"date\">Date: {note.date} </label>\n                <div className=\"row\">\n                    <input type=\"date\" id=\"date\"\n                    name=\"date\" onChange={onChangeInput} />\n                </div>\n\n                <button type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\nimport Header from './notes/Nav'\nimport Home from './notes/Home'\nimport CreateNote from './notes/CreateNote'\nimport EditNote from './notes/EditNote'\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom'\n\nexport default function Notes({ setIsLogin }) {\n    return (\n        <Router>\n            <div className=\"notes-page\">\n                <Header setIsLogin={setIsLogin} />\n\n                <section>\n                    <Routes>\n                        <Route path=\"/\" element={<Home/>} exact />\n                        <Route path=\"/create\"element={<CreateNote/>} exact />\n                        <Route path=\"/edit/:id\" element={<EditNote/>} exact />\n                    </Routes>\n                </section>\n\n\n            </div>\n        </Router>\n    )\n}\n","import React, {useState, useEffect} from 'react';\nimport axios from 'axios'\nimport Login from './components/Login'\nimport Notes from './components/Notes'\n\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false)\n\n  useEffect(() =>{\n    const checkLogin = async () =>{\n      const token = localStorage.getItem('tokenStore')\n      if(token){\n        const verified = await axios.get('/users/verify',{\n          headers:{ Authorization: token}\n        })\n        console.log(verified)\n        setIsLogin(verified.data)\n        if(verified.data === false) return localStorage.clear()\n      }else{\n        setIsLogin(false)\n      }\n    }\n    checkLogin()\n  }, [])\n\n  return (\n    <div className=\"App\">\n      {\n        isLogin \n        ? <Notes setIsLogin={setIsLogin} /> \n        : <Login setIsLogin={setIsLogin} />\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}